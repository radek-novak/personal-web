(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(23)},21:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),i=(n(21),n(2)),l=n(9),u=n(10),s=n(14),h=n(11),m=n(15),f=function(e){var t=e.path,n=e.combinedPath,r=e.onClick;return t.map(function(e,t){var c=n.slice(0,t+1);return a.createElement("button",{className:"Bread__btn",key:t+c.join("^"),onClick:function(){return r(c)}},"/",e)})},v=n(1),d=function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1];return function(e){return[Math.cos(e.angle)*e.distance+n,Math.sin(e.angle)*e.distance+a]}},p=function(e){var t=Object(v.a)(e,2),n=t[0],a=t[1];return function(e){var t=Object(v.a)(e,2),r=t[0],c=t[1];return Math.sqrt(Math.pow(r-n,2)+Math.pow(c-a,2))}},b=n(12),g=n.n(b),E=function(e){var t=e.path,n=e.size;return"".concat(function(e){return"/".concat(e.join("/"))}(t)," - ").concat(g()(n||0,{base:10}))},y=function(e){return function(t,n,a,r){var c=d(e),o=p(e),i=c({angle:t,distance:r}),l=c({angle:n,distance:r}),u=c({angle:n,distance:a}),s=c({angle:t,distance:a}),h=o(i),m=o(u),f=Number(Math.abs(t-n)>Math.PI);return"\n    M".concat(i[0],",").concat(i[1],"\n    A").concat(h,",").concat(h,",0,").concat(f,",1,").concat(l[0],", ").concat(l[1],"\n    L").concat(u[0],",").concat(u[1],"\n    A").concat(m,",").concat(m,",0,").concat(f,",0,").concat(s[0],",").concat(s[1],"\n    Z\n    ")}},j=function(e){return function(t,n,a){var r=d(e),c=p(e),o=r({angle:t,distance:a}),i=r({angle:n,distance:a}),l=c(o),u=Number(Math.abs(t-n)>Math.PI);return"\n    M".concat(o[0],",").concat(o[1],"\n    A").concat(l,",").concat(l,",0,").concat(u,",1,").concat(i[0],", ").concat(i[1],"\n    ")}},w=function(e){var t=e.from,n=e.to,r=e.level,c=e.path,o=e.onHover,i=e.onClick,l=e.center,u=e.segmentChildren;if(!u)return[];for(var s=[],h=Object.entries(u),m=h.reduce(function(e,t){var n=Object(v.a)(t,2);n[0];return n[1].size+e},0),f=n-t,d=t,p=0,b=h;p<b.length;p++){var g=b[p],E=Object(v.a)(g,2),y=E[0],j=E[1],w=j.size,k=j.children,C=f*w/m;if("number"===typeof C&&!isNaN(C)){var z=c.concat(y);s.push(a.createElement(O,{key:z.join("/"),from:d,to:d+C,path:z,size:w,level:r+1,center:l,onHover:o,onClick:i,segmentChildren:k})),d+=C}}return s};function O(e){var t=e.from,n=e.to,r=e.level,c=e.path,o=e.onHover,i=e.onClick,l=e.size,u=e.center,s=e.segmentChildren,h=y(u),m=j(u),f=c.join("/"),v=c[c.length-1];return a.createElement(a.Fragment,null,a.createElement("defs",null,a.createElement("path",{id:f,d:m(t,n,50*r+25)})),a.createElement("path",{d:h(t,n,50*r+5,50*(r+1)),className:"Segment__path",onMouseOver:function(){return o({size:l,path:c})},onClick:function(){return i({size:l,path:c})}}),a.createElement("text",{className:"u-noPointerEv"},a.createElement("textPath",{startOffset:"10",side:"right",href:"#"+f},v)),w({from:t,to:n,level:r,onHover:o,onClick:i,center:u,path:c,segmentChildren:s}))}var k=a.memo(O),C={w:600,h:600},z={maxHeight:"100vh",width:"100%"};var P=a.memo(function(e){var t=e.data,n=e.onHover,r=e.onClick;if(!t)return null;var c=t,o=[C.w/2,C.h/2],i=Object.keys(c)[0],l=c[i],u={from:-Math.PI/2,to:-Math.PI/2+2*Math.PI-1e-6,level:0,center:o};return a.createElement("svg",{style:z,viewBox:"0 0 ".concat(C.w," ").concat(C.h)},a.createElement(k,Object.assign({},u,{path:[i],segmentChildren:l.children,onHover:n,onClick:r})))}),x=(n(22).execFile,512);function M(e){var t=/^(\d+?)\t(.+?)$/,n=e.trim().split("\n"),a={},r=!0,c=!1,o=void 0;try{for(var i,l=n[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value.match(t),s=Object(v.a)(u,3),h=s[1];a[s[2]]=Number(h)*x}}catch(m){c=!0,o=m}finally{try{r||null==l.return||l.return()}finally{if(c)throw o}}return a}var N=function(e){return Object.entries(e).sort(function(e,t){return t[1]-e[1]})},S=n(13),I=function(e){return e.split("").reduce(function(e,t){return"/"===t?e+1:e},0)},D=function e(t,n,a){var r=n[0],c=Object(S.a)(n).slice(1);r in t?(t[r].children=t[r].children||{},1===n.length?t.children[r]={size:a}:e(t[r].children,c,a)):1===n.length?t[r]={size:a}:(t[r]={size:1,children:{}},e(t[r].children,c,a))},H=function(e){var t=Object(i.a)(e);t=t.map(function(e){return[e[0].replace(/^(.+?)\/$/,function(e,t){return t}),e[1]]});for(var n={},a=1;t.length;){var r=t.filter(function(e){var t=Object(v.a)(e,1)[0];return I(t)===a}),c=!0,o=!1,l=void 0;try{for(var u,s=r[Symbol.iterator]();!(c=(u=s.next()).done);c=!0){var h=u.value,m=Object(v.a)(h,2),f=m[0],d=m[1],p=f.split("/").filter(Boolean);D(n,p,d)}}catch(b){o=!0,l=b}finally{try{c||null==s.return||s.return()}finally{if(o)throw l}}t=t.filter(function(e){var t=Object(v.a)(e,1)[0];return I(t)!==a}),a++}return n},B=function(e,t){var n=JSON.parse(JSON.stringify(e)),a=t[t.length-1],r=t.slice(0,-1),c=!0,o=!1,i=void 0;try{for(var l,u=r[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){n=n[l.value].children}}catch(f){o=!0,i=f}finally{try{c||null==u.return||u.return()}finally{if(o)throw i}}for(var s=0,h=Object.keys(n);s<h.length;s++){var m=h[s];m!==a&&delete n[m]}return n},T=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={currentPath:[],viewing:{path:null,size:0},currentTreeData:null,treeData:null,loading:!0,textareaInput:null},n.load=function(e){console.time();var t=N(M(e)),a=H(t);console.timeEnd();var r=t[1][0].split("/").filter(Boolean);n.setState({currentPath:r,treeData:a,currentTreeData:B(a,r),loading:!1})},n.handleHover=function(e){var t=e.size,a=e.path;n.setState({viewing:{size:t,path:a}})},n.handleClick=function(e){var t=e.path,a=(e.size,n.state.treeData);if(a){var r=[].concat(Object(i.a)(n.state.currentPath.slice(0,-1)),Object(i.a)(t));n.setState({currentPath:r,currentTreeData:B(a||{},r)})}},n.breadClick=function(e){var t=n.state.treeData;t&&n.setState({currentPath:e,currentTreeData:B(t||{},e)})},n.onSubmit=function(e){e.preventDefault(),n.load(n.state.textareaInput||"")},n.handleInput=function(e){n.setState({textareaInput:e.target.value})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.viewing,n=t.path,a=t.size,c=e.loading,o=e.currentTreeData,i=e.currentPath,l=i.slice(0,-1).concat(n||[]);return r.a.createElement(r.a.Fragment,null,o?r.a.createElement("div",{className:"layout"},r.a.createElement("div",{className:"TopBar"},c?"Loading...":r.a.createElement(f,{combinedPath:l,path:i,onClick:this.breadClick})),r.a.createElement(P,{data:o,onHover:this.handleHover,onClick:this.handleClick}),r.a.createElement("div",{className:"BottomBar"},E({path:l,size:a}))):r.a.createElement("div",{className:"inputScreen"},r.a.createElement("p",null,"Run ",r.a.createElement("pre",{className:"u-inline"},"du")," command",r.a.createElement("small",null,r.a.createElement("i",null,"(expecting block size 512)")),r.a.createElement("code",null,r.a.createElement("pre",null,"du -d 3 | pbcopy")),"and paste the output in the textarea"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("textarea",{name:"data",rows:20,cols:20,placeholder:"Paste the output of `du` here",onChange:this.handleInput}),r.a.createElement("button",{type:"submit"},"Visualize"))))}}]),t}(a.Component),A=function(){return r.a.createElement(T,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.68b45919.chunk.js.map