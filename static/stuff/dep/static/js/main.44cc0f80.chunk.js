(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),c=a.n(l),o=(a(12),a(1)),i=a(2),u=function(e,t){return t.forEach(function(t){return e.delete(t)})};function d(e){for(var t=Object(i.cloneDeep)(e),a=[],n=new Set,r=0,l=!1;t.size;){var c=Array.from(t.entries());a[r]=new Set;for(var d=0,p=c;d<p.length;d++){var m=p[d],s=Object(o.a)(m,2),f=s[0];0!==s[1].size||n.has(f)||(a[r].add(f),n.add(f),t.delete(f),l=!0)}for(var h=0,E=c;h<E.length;h++){var y=E[h],v=Object(o.a)(y,2)[1];u(v,n)}if(!l)return null;l=!1,r++}return a}function p(e,t){var a=Object(i.cloneDeep)(e);return a.get(t[0]).add(t[1]),Boolean(d(a))}var m={depList:new Map,parallel:[]},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=Object(i.cloneDeep)(e);switch(t.type){case"ADD_FIELD":a.depList.set(t.payload,new Set);break;case"TOGGLE_DEP":var n=Object(o.a)(t.payload.dep,2),r=n[0],l=n[1];void 0!==a.depList.get(r)&&(a.depList.get(r).has(l)?a.depList.get(r).delete(l):a.depList.get(r).add(l))}return a.parallel=d(a.depList),a},f=a(3),h=function(e){var t=e.x,a=e.y,n=e.text;return r.a.createElement(r.a.Fragment,null,r.a.createElement("rect",{fill:"white",x:t,width:20,y:a+-15,height:20,rx:5}),r.a.createElement("text",{x:t+5,y:a},n))},E=function(e,t){return{x:20*t*2+10,y:20*(e+1)*2-10}},y=function(e){if(!e.parallel||!e.parallel.length)return null;var t=function(e,t){for(var a=e.map(function(e){return Array.from(e)}),n={},r=0,l=Array.from(t.entries());r<l.length;r++){var c=l[r],i=Object(o.a)(c,2),u=i[0],d=i[1];n[u]=Array.from(d)}return{parallel:a,depList:n}}(e.parallel,e.depList),a=t.parallel,n=t.depList,l=20*Math.max.apply(Math,Object(f.a)(a.map(function(e){return e.length})))*2,c=20*a.length*2;return r.a.createElement("svg",{className:"graph",width:l,height:c},a.map(function(e,t){return e.map(function(e,l){return n[e].map(function(e){var n=E.apply(void 0,Object(f.a)(function(e){for(var t=0;t<a.length;t++)for(var n=0;n<a[t].length;n++)if(a[t][n]===e)return[t,n];return[0,0]}(e))),c=E(t,l);return r.a.createElement("line",{key:"".concat(t,"-").concat(l,"-").concat(n.x,"-").concat(n.y),x1:c.x+10,y1:c.y-10,x2:n.x+10,y2:n.y-10})})})}),a.map(function(e,t){return r.a.createElement("g",{key:t},e.map(function(e,a){return r.a.createElement(h,Object.assign({key:e,text:e},E(t,a)))}))}))},v=function(){var e=r.a.useRef(null),t=r.a.useReducer(s,m),a=Object(o.a)(t,2),n=a[0],l=a[1],c=Array.from(n.depList.entries());return r.a.createElement("div",null,r.a.createElement("table",{style:{margin:"auto"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",{className:"label"},"\u2193 depends on \u2192"),c.map(function(e){var t=Object(o.a)(e,1)[0];return r.a.createElement("td",{key:t},t)}))),r.a.createElement("tbody",null,c.map(function(e,t){var a=Object(o.a)(e,2),i=a[0],u=a[1];return r.a.createElement("tr",{key:i+t},r.a.createElement("td",null,r.a.createElement("pre",{style:{display:"inline-block",margin:0,width:"3rem",textAlign:"right"}},String(t).padStart(1))),r.a.createElement("td",null,r.a.createElement("input",{type:"text",defaultValue:i})),c.map(function(e){var t=Object(o.a)(e,1)[0];return r.a.createElement("td",{key:i+t},r.a.createElement("input",{className:"dependency-checkbox",type:"checkbox",onChange:function(){l({type:"TOGGLE_DEP",payload:{dep:[i,t]}})},disabled:!p(n.depList,[i,t]),checked:u.has(t)}))}))}),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{form:"newfieldform",type:"submit"},"add")),r.a.createElement("td",null,r.a.createElement("form",{id:"newfieldform",onSubmit:function(t){t.preventDefault(),e.current&&e.current.value&&(l({type:"ADD_FIELD",payload:e.current.value}),e.current.value="")}},r.a.createElement("input",{autoFocus:!0,ref:e,type:"text"}))),r.a.createElement("td",null)))),n.parallel?r.a.createElement(y,{parallel:n.parallel,depList:n.depList}):r.a.createElement("b",null,"There's a cycle in the graph"))},g=(a(14),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,t,a){e.exports=a(15)}},[[7,1,2]]]);
//# sourceMappingURL=main.44cc0f80.chunk.js.map